import{u as U,_ as z}from"./index-920881de.js";/* empty css                     *//* empty css                    *//* empty css                 */import{y as C,r as d,l as I,m as L,A as M,B as s,Q as o,I as t,O as T,az as h,z as B,W as D,M as u}from"./vue-vendor-8137f92e.js";import{t as F,o as _,u as R,w as N,l as O,x as P,y as j,z as q}from"./element-ui-08f13b0c.js";import"./monaco-aa1fb2c3.js";const A={class:"login-container"},Q={class:"login-form-container"},W={class:"login-actions"},$={class:"system-info"},G=C({__name:"LoginView",setup(H){const f=h(),m=U(),p=d(),l=I({username:"",password:""}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}]},c=d(!1),g=d(!1),b=d("1.0.0"),v=async()=>{if(!(!p.value||!await p.value.validate())){c.value=!0;try{await new Promise(a=>setTimeout(a,1e3));const e={id:1,username:l.username,email:`${l.username}@example.com`,level:1,experience:0,totalLearningTime:0,completedModules:0,joinDate:new Date().toISOString(),lastLogin:new Date().toISOString()},i="mock-jwt-token-"+Date.now();m.setUser(e),m.setToken(i),_.success("登录成功！"),f.push("/dashboard")}catch(e){console.error("登录失败:",e),_.error("登录失败，请检查用户名和密码")}finally{c.value=!1}}},k=()=>{_.info("注册功能开发中...")};return L(()=>{m.isAuthenticated&&f.push("/dashboard");const r=localStorage.getItem("rememberedUsername");r&&(l.username=r,g.value=!0)}),(r,e)=>{const i=R,a=N,w=O,x=P,V=j,E=q,S=F;return B(),M("div",A,[e[9]||(e[9]=s("div",{class:"particles-background"},null,-1)),s("div",Q,[o(S,{class:"login-card",shadow:"always"},{header:t(()=>[...e[3]||(e[3]=[s("div",{class:"login-header"},[s("h1",{class:"login-title"},"Python语言学习驾驶舱"),s("p",{class:"login-subtitle"},"登录您的账户")],-1)])]),default:t(()=>[o(E,{ref_key:"loginFormRef",ref:p,model:l,rules:y,class:"login-form",onSubmit:D(v,["prevent"])},{default:t(()=>[o(a,{prop:"username"},{default:t(()=>[o(i,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=n=>l.username=n),placeholder:"请输入用户名",size:"large","prefix-icon":"el-icon-user",clearable:""},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:t(()=>[o(i,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=n=>l.password=n),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"el-icon-lock","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),o(a,null,{default:t(()=>[o(w,{type:"primary",size:"large",class:"login-btn",loading:c.value,onClick:v},{default:t(()=>[...e[4]||(e[4]=[u(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),s("div",W,[o(x,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=n=>g.value=n)},{default:t(()=>[...e[5]||(e[5]=[u("记住我",-1)])]),_:1},8,["modelValue"]),o(V,{type:"primary",underline:!1},{default:t(()=>[...e[6]||(e[6]=[u("忘记密码？",-1)])]),_:1})]),e[8]||(e[8]=s("div",{class:"login-divider"},[s("span",null,"或")],-1)),o(w,{type:"success",size:"large",class:"register-btn",onClick:k},{default:t(()=>[...e[7]||(e[7]=[u(" 注册新账户 ",-1)])]),_:1})]),_:1},8,["model"])]),_:1}),s("div",$,[s("p",null,"© 2024 Python语言学习驾驶舱系统 v"+T(b.value),1)])])])}}});const se=z(G,[["__scopeId","data-v-d7d74daa"]]);export{se as default};
