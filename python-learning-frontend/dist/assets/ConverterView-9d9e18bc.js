import{c as k,_ as B}from"./index-4abfcac9.js";/* empty css                     *//* empty css                  */import{y as D,r as g,l as L,m as T,A as C,B as t,Q as s,I as o,M as m,J as M,ai as I,O as u,P as j,a4 as F,z as w,u as f}from"./vue-vendor-8137f92e.js";import{n as i,E as O,k as $,y as N,m as W,A as q,B as G,C as Q,D as K,F as X,G as Y,H as Z,u as ee,I as te}from"./element-ui-92f352ec.js";import"./monaco-aa1fb2c3.js";const se={class:"converter-view"},oe={class:"page-header"},le={class:"page-title"},ae={class:"converter-container"},ne={class:"editor-section"},ie={class:"editor-panel"},de={class:"panel-header"},re={class:"panel-actions"},ce={class:"editor-wrapper"},ue={class:"converter-actions"},ve={class:"editor-panel"},_e={class:"panel-header"},pe={class:"panel-actions"},me={class:"editor-wrapper"},fe={class:"code-output"},ye={class:"sidebar-section"},he={class:"stats-card"},ge={class:"stats-grid"},Ce={class:"stat-item"},we={class:"stat-value"},be={class:"stat-item"},Ve={class:"stat-value"},Se={class:"stat-item"},ke={class:"stat-value"},Le={class:"settings-card"},xe={class:"settings-form"},Ee={class:"history-card"},He={class:"history-list"},ze=["onClick"],Ae={class:"history-title"},Pe={class:"history-time"},Ue=`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
        
        // 计算1到10的和
        int sum = 0;
        for (int i = 1; i <= 10; i++) {
            sum += i;
        }
        System.out.println("Sum: " + sum);
    }
}`,Je=D({__name:"ConverterView",setup(Re){const v=g(""),c=g(""),y=g(!1),_=L({totalLines:0,successRate:0,timeCost:0}),n=L({codeStyle:"pep8",optimizationLevel:"smart",errorHandling:!0,typeAnnotations:!0}),b=g([]),x=()=>{v.value="",c.value="",i.success("代码已清空")},E=()=>{v.value=Ue,i.info("示例代码已加载")},H=async()=>{if(!v.value.trim()){i.warning("请输入Java代码");return}y.value=!0;try{const l={javaCode:v.value,options:{codeStyle:n.codeStyle,optimizationLevel:n.optimizationLevel,errorHandling:n.errorHandling,typeAnnotations:n.typeAnnotations}},e=await k.convertJavaToPython(l);e.code===200?(c.value=e.data.pythonCode,_.totalLines=c.value.split(`
`).length,_.successRate=e.data.successRate||100,_.timeCost=e.data.timeCost||0,i.success("代码转换成功")):i.error(e.message||"转换失败")}catch(l){i.error("转换失败，请重试"),console.error("转换错误:",l)}finally{y.value=!1}},z=async()=>{if(!c.value){i.warning("没有可复制的代码");return}try{await navigator.clipboard.writeText(c.value),i.success("代码已复制到剪贴板")}catch{i.error("复制失败")}},A=()=>{if(!c.value){i.warning("没有可下载的代码");return}const l=new Blob([c.value],{type:"text/plain"}),e=URL.createObjectURL(l),d=document.createElement("a");d.href=e,d.download="converted_code.py",d.click(),URL.revokeObjectURL(e),i.success("代码已下载")},P=l=>{i.info(`加载历史记录: ${l.title}`)},U=async()=>{try{const l=await k.getConversionHistory();l.code===200&&(b.value=l.data.items.map(e=>({id:e.id,title:e.title||"未命名转换",time:J(e.createdAt)})))}catch(l){console.error("加载转换历史失败:",l)}},J=l=>{const e=new Date(l),r=new Date().getTime()-e.getTime();return r<6e4?"刚刚":r<36e5?`${Math.floor(r/6e4)}分钟前`:r<864e5?`${Math.floor(r/36e5)}小时前`:e.toLocaleDateString()};return T(()=>{U()}),(l,e)=>{const d=O,r=$,p=Y,V=Z,h=ee,S=te,R=N;return w(),C("div",se,[t("div",oe,[t("h1",le,[s(d,null,{default:o(()=>[s(f(W))]),_:1}),e[5]||(e[5]=m(" Java-to-Python 代码转换工作站 ",-1))]),e[6]||(e[6]=t("p",{class:"page-desc"},"智能代码转换引擎，将Java代码无缝转换为Python代码",-1))]),t("div",ae,[t("div",ne,[t("div",ie,[t("div",de,[e[9]||(e[9]=t("h3",null,"Java 源代码",-1)),t("div",re,[s(r,{size:"small",onClick:x},{default:o(()=>[s(d,null,{default:o(()=>[s(f(q))]),_:1}),e[7]||(e[7]=m(" 清空 ",-1))]),_:1}),s(r,{size:"small",onClick:E},{default:o(()=>[s(d,null,{default:o(()=>[s(f(G))]),_:1}),e[8]||(e[8]=m(" 加载示例 ",-1))]),_:1})])]),t("div",ce,[M(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>v.value=a),class:"code-editor",placeholder:"请输入Java代码...",spellcheck:"false"},null,512),[[I,v.value]])])]),t("div",ue,[s(r,{type:"primary",size:"large",loading:y.value,onClick:H,class:"convert-btn"},{default:o(()=>[s(d,null,{default:o(()=>[s(f(Q))]),_:1}),m(" "+u(y.value?"转换中...":"开始转换"),1)]),_:1},8,["loading"])]),t("div",ve,[t("div",_e,[e[12]||(e[12]=t("h3",null,"Python 转换结果",-1)),t("div",pe,[s(r,{size:"small",onClick:z},{default:o(()=>[s(d,null,{default:o(()=>[s(f(K))]),_:1}),e[10]||(e[10]=m(" 复制 ",-1))]),_:1}),s(r,{size:"small",onClick:A},{default:o(()=>[s(d,null,{default:o(()=>[s(f(X))]),_:1}),e[11]||(e[11]=m(" 下载 ",-1))]),_:1})])]),t("div",me,[t("pre",fe,u(c.value||"转换结果将显示在这里..."),1)])])]),t("div",ye,[t("div",he,[e[16]||(e[16]=t("h3",null,"转换统计",-1)),t("div",ge,[t("div",Ce,[t("div",we,u(_.totalLines),1),e[13]||(e[13]=t("div",{class:"stat-label"},"总行数",-1))]),t("div",be,[t("div",Ve,u(_.successRate)+"%",1),e[14]||(e[14]=t("div",{class:"stat-label"},"成功率",-1))]),t("div",Se,[t("div",ke,u(_.timeCost)+"ms",1),e[15]||(e[15]=t("div",{class:"stat-label"},"耗时",-1))])])]),t("div",Le,[e[17]||(e[17]=t("h3",null,"转换设置",-1)),t("div",xe,[s(R,{"label-width":"80px"},{default:o(()=>[s(h,{label:"代码风格"},{default:o(()=>[s(V,{modelValue:n.codeStyle,"onUpdate:modelValue":e[1]||(e[1]=a=>n.codeStyle=a),placeholder:"选择代码风格"},{default:o(()=>[s(p,{label:"PEP8标准",value:"pep8"}),s(p,{label:"简洁风格",value:"simple"}),s(p,{label:"详细注释",value:"detailed"})]),_:1},8,["modelValue"])]),_:1}),s(h,{label:"优化级别"},{default:o(()=>[s(V,{modelValue:n.optimizationLevel,"onUpdate:modelValue":e[2]||(e[2]=a=>n.optimizationLevel=a),placeholder:"选择优化级别"},{default:o(()=>[s(p,{label:"基础转换",value:"basic"}),s(p,{label:"智能优化",value:"smart"}),s(p,{label:"深度重构",value:"deep"})]),_:1},8,["modelValue"])]),_:1}),s(h,{label:"错误处理"},{default:o(()=>[s(S,{modelValue:n.errorHandling,"onUpdate:modelValue":e[3]||(e[3]=a=>n.errorHandling=a)},null,8,["modelValue"])]),_:1}),s(h,{label:"类型注解"},{default:o(()=>[s(S,{modelValue:n.typeAnnotations,"onUpdate:modelValue":e[4]||(e[4]=a=>n.typeAnnotations=a)},null,8,["modelValue"])]),_:1})]),_:1})])]),t("div",Ee,[e[18]||(e[18]=t("h3",null,"最近转换",-1)),t("div",He,[(w(!0),C(j,null,F(b.value,a=>(w(),C("div",{key:a.id,class:"history-item",onClick:Be=>P(a)},[t("div",Ae,u(a.title),1),t("div",Pe,u(a.time),1)],8,ze))),128))])])])])])}}});const Oe=B(Je,[["__scopeId","data-v-7f2caea6"]]);export{Oe as default};
